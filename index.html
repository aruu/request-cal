<!DOCTYPE HTML>
<html>
<head>
	<script src="calGen.js"></script>
	<script src="ui.js"></script>
	<link rel="stylesheet" type="text/css" href="request.css">
	<title>request-cal | aruu.github.io</title>
</head>
<body>
	<!--
	only way to get data personalized per student is through quest;
		perhaps scrape class no. and use UW API for other info? https://github.com/uWaterloo/api-documentation#accessing-the-api
		but since scheduling info is there anyways, just use for now, but API might be cleaner

	have some way to scrape schedule data from an embedded iframe login?
		<iframe height="500", width="800", src="https://quest.pecs.uwaterloo.ca/psp/SS/"></iframe>

	TODO: have these only appear when component exists
-->
<h1>Generate an .ics (iCAL) file from Quest</h1>
<ol>
	<li><h2>Copy your schedule from Quest</h2></li>
	<ol type="a">
		<li>Log into Quest at <a href="https://quest.pecs.uwaterloo.ca/psp/SS/">https://quest.pecs.uwaterloo.ca/psp/SS/</a></li>
		<li>Click "Enroll"<br><img style="vertical-align:top" src="img/1b.png?raw=true"></li>
		<li>Select your term and press "Continue"<br><img style="vertical-align:top" src="img/1c.png?raw=true"></li>
		<li>Press Ctrl+A so that all the text is highlighted as such, and press Ctrl+C to copy<br><img style="vertical-align:top" src="img/1d.png?raw=true"></li>
	</ol>
	<br>

	<li><h2>Paste the text into this box:<h2></li>
	<textarea id="quest_content" rows="5" cols="120" oninput="generateICS()"></textarea>

	<li><h2>Adjust the text formatting or leave the defaults<h2></li>
	<p id="asdf">Components from input: </p>
	<!-- LEC, TUT, LAB, TST, SEM, PRJ, default -->
	<table>
		<tr>
			<td>LEC format</td>
			<td>TUT format</td>
			<td>LAB format</td>
			<td>TST format</td>
			<td>SEM format</td>
			<td>PRJ format</td>
			<td>default format</td>
		</tr>
		<tr>
			<td><input id="LEC_format" value="%cc - %cn"></td>
			<td><input id="TUT_format"></td>
			<td><input id="LAB_format"></td>
			<td><input id="TST_format" value="%cc Midterm"></td>
			<td><input id="SEM_format"></td>
			<td><input id="PRJ_format"></td>
			<td><input id="default_format" value="%cc %comp"></td>
		</tr>
	</table>

	<li><h2><del>Generate the ICS file !</del>Marvel at HTML5<h2></li>
	<textarea id="ics_content" rows="20" cols="120" style="vertical-align:middle" disabled></textarea>

	<li><h2>Download !<h2></li>
	<a id="download_a"><button id="download_btn" disabled>Download</button></a>
</ol>
</body>
</html>
