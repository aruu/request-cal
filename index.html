<!DOCTYPE HTML>
<html>
<head>
	<link rel='stylesheet' href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.1.0/fullcalendar.min.css">
	<link rel="stylesheet" type="text/css" href="request.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.1.0/fullcalendar.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ical.js/1.2.2/ical.min.js"></script>
	<script src="https://2733.github.io/icalendar2fullcalendar/ical_events.js"></script>
	<script src="https://2733.github.io/icalendar2fullcalendar/ical_fullcalendar.js"></script>
	<script src="calGen.js"></script>
	<title>request-cal | aruu.github.io</title>
	<script>
	$(document).ready(function() {
		$('#calendar').fullCalendar({
			contentHeight: 822,
			defaultView: 'agendaWeek',
			// defaultDate: '2014-06-12',
			allDaySlot: false,
			minTime: "7:00:00",
			maxTime: "23:00:00"
		})
	})
	</script>
</head>
<body>
	<!--
	only way to get data personalized per student is through quest;
		perhaps scrape class no. and use UW API for other info? https://github.com/uWaterloo/api-documentation#accessing-the-api
		but since scheduling info is there anyways, just use for now, but API might be cleaner

	have some way to scrape schedule data from an embedded iframe login?
		<iframe height="500", width="800", src="https://quest.pecs.uwaterloo.ca/psp/SS/"></iframe>
-->
<h1>Generate an .ics (iCAL) file from Quest</h1>
<ol>
	<li><h2>Copy your schedule from Quest</h2></li>
	<ol type="a">
		<li>Log into Quest at <a href="https://quest.pecs.uwaterloo.ca/psp/SS/">https://quest.pecs.uwaterloo.ca/psp/SS/</a></li>
		<li>Click "Enroll"<br><img style="vertical-align:top" src="img/1b.png?raw=true"></li>
		<li>Select your term and press "Continue"<br><img style="vertical-align:top" src="img/1c.png?raw=true"></li>
		<li>Press Ctrl+A so that all the text is highlighted as such, and press Ctrl+C to copy<br><img style="vertical-align:top" src="img/1d.png?raw=true"></li>
	</ol>
	<br>

	<li><h2>Paste the text into this box:<h2></li>
	<textarea id="quest_content" rows="5" cols="120" oninput="main()"></textarea>

	<li><h2>Adjust the text formatting or leave the defaults<h2></li>
	<table>
		<tbody id="format_table"><tr></tr><tr></tr></tbody>
	</table>

	<li><h2><del>Generate the ICS file !</del>Marvel at HTML5<h2></li>
	<textarea id="ics_content" rows="20" cols="120" style="vertical-align:middle" disabled></textarea>

	<li><h2>Download !<h2></li>
	<a id="download_a"><button id="download_btn" disabled>Download</button></a>
	<br>
	<div id='calendar' style='width: 900px;margin: 0 auto;font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;'></div>
</ol>
</body>
</html>
